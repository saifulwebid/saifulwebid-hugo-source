{{ partial "head.html" . }}
<body class="{{ .Site.Params.themeColor }} {{if .Site.Params.layoutReverse}}layout-reverse{{end}}">

{{ partial "sidebar.html" . }}

<div class="content container">
  <div class="posts">

  {{ $paginator := .Paginate (where .Data.Pages "Type" "post") }}
  {{ range .Paginator.Pages }}
    <div class="post">
      <h1 class="post-title">
        <a href="{{ .Permalink }}">
          {{ .Title }}
        </a>
      </h1>

      <span class="post-date">
        {{ .Date.Format "Mon, Jan 2, 2006" }}

        {{ if and (isset .Site.Params "disqusShortname") (ne .Site.Params.disqusShortname "") }}
        &bull; <a href="{{ .Permalink }}#disqus_thread">Comments</a>
        {{ end }}

      </span>

      {{ if or (eq .Params.readmore false) (eq .Truncated false) }}
        {{ .Content }}
      {{ else }}
        {{ .Summary }}

        <p><a href="{{ .Permalink }}" class="read-more-link">Read more ...</a></p>
        
      {{ end }}
    </div>
  {{ end }}
  </div>

  <div class="pagination">
    {{ if .Paginator.HasNext }}
      <a class="pagination-item" href="{{ .Paginator.Next.URL }}">Older</a>
    {{ else }}
      <span class="pagination-item">Older</span>
    {{ end }}
    {{ if .Paginator.HasPrev }}
      <a class="pagination-item" href="{{ .Paginator.Prev.URL }}">Newer</a>
    {{ else }}
      <span class="pagination-item">Newer</span>
    {{ end }}
  </div>
</div>

{{ if not (eq (printf "%v" $.Site.BaseURL) "http://localhost:1313/") }}
  {{ if and (isset .Site.Params "disqusShortname") (ne .Site.Params.disqusShortname "") }}
    <script id="dsq-count-scr" src="//{{ .Site.Params.disqusShortname }}.disqus.com/count.js" async></script>
  {{ end }}
{{ end }}

{{ partial "footer.html" . }}
